(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EditSong"],{c5c8:function(e,t,s){"use strict";s.r(t);var o=s("7a23");const l={class:"h-screen"},n={class:"flex justify-between mt-4"},a={class:" w-full text-left pl-8 text-2xl font-bold text-white"},i=Object(o["g"])("div",{class:"flex mr-8 hidden"},[Object(o["g"])("div",{class:"bg-blue mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70"},[Object(o["g"])("div",null,"Play")]),Object(o["g"])("div",{class:"bg-yellow mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70"},[Object(o["g"])("div",null,"notes")]),Object(o["g"])("div",{class:"bg-pinkLight mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70"},[Object(o["g"])("div",null,"Save")])],-1),c=Object(o["g"])("div",{class:"mx-8 mt-6"},[Object(o["g"])("p",{class:"text-left text-white text-lg"},"original")],-1),r={class:"mx-8 mt-4"},u={controls:"controls",ref:"song",class:"w-5/6"},b=Object(o["g"])("div",{class:"mx-8 mt-6 hidden"},[Object(o["g"])("p",{class:"text-left text-white text-lg"},"crop")],-1),d={class:"flex hidden"},g={class:"flex flex-col text-left mx-8 w-16"},p=Object(o["g"])("label",{class:"text-white",for:"start"},"start",-1),f={class:"flex flex-col text-left  w-16"},h=Object(o["g"])("label",{class:"text-white",for:"end"},"end",-1),v={class:"flex flex-col justify-center items-center "},x=Object(o["g"])("div",{class:"mx-8 mt-6"},[Object(o["g"])("p",{class:"text-left text-white text-lg"},"filter")],-1),m={class:"flex items-center"},j=Object(o["e"])('<option value="">choose your filter</option><option value="Distortion">Distortion</option><option value="AutoFilter">AutoFilter</option><option value="AutoPanner">AutoPanner</option><option value="reverb">reverb</option>',5),O={class:"flex flex-col text-left  w-16"},w=Object(o["g"])("label",{class:"text-white",for:"niveau"},"niveau",-1),y={class:"flex flex-col justify-center items-center "};function D(e,t,s,D,S,I){const P=Object(o["u"])("Header");return Object(o["p"])(),Object(o["d"])("div",l,[Object(o["g"])(P,{title:"UP"}),Object(o["g"])("div",n,[Object(o["g"])("p",a,Object(o["w"])(e.state.songname),1),i]),c,Object(o["g"])("div",r,[Object(o["g"])("audio",u,null,512)]),b,Object(o["g"])("div",d,[Object(o["g"])("div",g,[p,Object(o["D"])(Object(o["g"])("input",{class:"pl-2","onUpdate:modelValue":t[1]||(t[1]=t=>e.start=t),id:"start",type:"number"},null,512),[[o["z"],e.start]])]),Object(o["g"])("div",f,[h,Object(o["D"])(Object(o["g"])("input",{class:"pl-2","onUpdate:modelValue":t[2]||(t[2]=t=>e.end=t),id:"end",type:"number"},null,512),[[o["z"],e.end]])]),Object(o["g"])("div",v,[Object(o["g"])("button",{onClick:t[3]||(t[3]=(...t)=>e.cropSong&&e.cropSong(...t)),class:"h-8 bg-blue rounded-2xl mx-4 w-16 hover:opacity-70 text-white"},"crop")])]),x,Object(o["g"])("div",m,[Object(o["D"])(Object(o["g"])("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.state.effect=t),class:"mx-8 h-8",name:"filter",id:"filter"},[j],512),[[o["y"],e.state.effect]]),Object(o["g"])("div",O,[w,Object(o["D"])(Object(o["g"])("input",{class:"pl-2","onUpdate:modelValue":t[5]||(t[5]=t=>e.state.niveau=t),id:"niveau",type:"number"},null,512),[[o["z"],e.state.niveau]])]),Object(o["g"])("div",y,[Object(o["g"])("button",{onClick:t[6]||(t[6]=(...t)=>e.playFiltered&&e.playFiltered(...t)),class:"h-8 bg-blue rounded-2xl mx-4 w-auto px-2 hover:opacity-70 text-white"},"play/stop filtered")])])])}var S=s("9ab4"),I=s("bc3a"),P=s.n(I),z=s("0418"),A=s("5e54"),F=Object(o["h"])({components:{Header:z["a"]},setup:function(){var e=Object(o["r"])({songname:"",song:"[]",niveau:0,effect:""});return{state:e,start:0,end:0,isPlaying:!1,player:new A["d"]}},methods:{cropSong:function(){console.log("done")},playFiltered:function(){return Object(S["a"])(this,void 0,void 0,(function(){var e,t,s,o=this;return Object(S["b"])(this,(function(l){switch(l.label){case 0:return this.player=new A["d"]({url:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/blob/"+this.state.songname,loop:!1,autostart:!1}),this.isPlaying?[3,2]:(e={UserId:localStorage.getItem("userId"),Name:this.state.effect,Level:+this.state.niveau},[4,P.a.post("Blob/addfilter/"+localStorage.getItem("songName"),e)]);case 1:return t=l.sent(),console.log(t),this.isPlaying=!0,s=void 0,"Distortion"==this.state.effect&&(s=new A["c"](this.state.niveau).toDestination()),"AutoFilter"==this.state.effect&&(s=new A["a"](this.state.niveau).toDestination()),"AutoPanner"==this.state.effect&&(s=new A["b"](this.state.niveau).toDestination()),"reverb"==this.state.effect&&(s=new A["e"](this.state.niveau).toDestination()),console.log(this.player),this.player.connect(s),A["h"]().then((function(){o.player.start()})),[3,3];case 2:console.log("test"),window.location.reload(),l.label=3;case 3:return[2]}}))}))}},created:function(){return Object(S["a"])(this,void 0,void 0,(function(){var e;return Object(S["b"])(this,(function(t){switch(t.label){case 0:return this.state.songname=localStorage.getItem("songName"),[4,P.a.get("Blob/onesong/"+localStorage.getItem("userId")+"/"+localStorage.getItem("songName"))];case 1:return e=t.sent(),console.log(e.data.filters.level),this.state.niveau=e.data.filters.level,this.state.effect=e.data.filters.name,[2]}}))}))},mounted:function(){this.$refs.song.innerHTML='<source src="http://music01bronze.westeurope.cloudapp.azure.com:9000/api/blob/'+this.state.songname+'" type="audio/mp3">'}});F.render=D;t["default"]=F}}]);
//# sourceMappingURL=EditSong.67cc815d.js.map