{"version":3,"sources":["webpack:///./src/views/EditSong.vue","webpack:///./src/views/EditSong.vue?fd46","webpack:///./src/views/EditSong.vue?b63f"],"names":["class","controls","ref","for","title","state","songname","start","id","type","end","cropSong","effect","name","niveau","playFiltered","components","Header","setup","song","isPlaying","player","methods","console","log","this","url","loop","autostart","body","UserId","localStorage","getItem","Name","Level","a","post","response","distortion","toDestination","connect","then","window","location","reload","created","get","data","filters","level","mounted","$refs","innerHTML","render"],"mappings":"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","file":"js/EditSong.67cc815d.js","sourcesContent":["<template>\r\n<div class=\"h-screen\">\r\n<Header title=\"UP\"></Header>\r\n<div class=\"flex justify-between mt-4\">\r\n    <p class=\" w-full text-left pl-8 text-2xl font-bold text-white\">{{state.songname}}</p>\r\n    <div class=\"flex mr-8 hidden\">\r\n        <div  class=\"bg-blue mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70\">\r\n            <div>Play</div>\r\n        </div>\r\n        <div class=\"bg-yellow mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70\">\r\n            <div>notes</div>\r\n        </div>\r\n        <div  class=\"bg-pinkLight mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70\">\r\n            <div>Save</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"mx-8 mt-6\">\r\n    <p class=\"text-left text-white text-lg\">original</p>\r\n</div>\r\n<div class=\"mx-8 mt-4\">\r\n        <audio controls=\"controls\" ref=\"song\" class=\"w-5/6\">\r\n        </audio>\r\n    </div>\r\n<div class=\"mx-8 mt-6 hidden\">\r\n    <p class=\"text-left text-white text-lg\">crop</p>\r\n</div>\r\n<div class=\"flex hidden\">\r\n    <div class=\"flex flex-col text-left mx-8 w-16\">\r\n        <label class=\"text-white\" for=\"start\">start</label>\r\n        <input class=\"pl-2\" v-model=\"start\" id=\"start\" type=\"number\">\r\n    </div>\r\n    <div  class=\"flex flex-col text-left  w-16\">\r\n        <label class=\"text-white\" for=\"end\">end</label>\r\n        <input class=\"pl-2\" v-model=\"end\" id=\"end\" type=\"number\">\r\n    </div>\r\n    <div  class=\"flex flex-col justify-center items-center \">\r\n        <button @click=\"cropSong\" class=\"h-8 bg-blue rounded-2xl mx-4 w-16 hover:opacity-70 text-white\">crop</button>\r\n    </div>\r\n</div> \r\n<div class=\"mx-8 mt-6\">\r\n    <p class=\"text-left text-white text-lg\">filter</p>\r\n</div>\r\n<div class=\"flex items-center\">\r\n        <select v-model=\"state.effect\" class=\"mx-8 h-8\" name=\"filter\" id=\"filter\">\r\n            <option value=\"\">choose your filter</option>\r\n            <option value=\"Distortion\">Distortion</option>\r\n            <option value=\"AutoFilter\">AutoFilter</option>\r\n            <option value=\"AutoPanner\">AutoPanner</option>\r\n            <option value=\"reverb\">reverb</option>\r\n        </select>\r\n        <div class=\"flex flex-col text-left  w-16\">\r\n            <label class=\"text-white\" for=\"niveau\">niveau</label>\r\n            <input class=\"pl-2\" v-model=\"state.niveau\" id=\"niveau\" type=\"number\">\r\n        </div> \r\n        <div  class=\"flex flex-col justify-center items-center \">\r\n            <button @click=\"playFiltered\" class=\"h-8 bg-blue rounded-2xl mx-4 w-auto px-2 hover:opacity-70 text-white\">play/stop filtered</button>\r\n        </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, reactive } from 'vue';\r\nimport axios from 'axios';\r\nimport Header from '../components/Header.vue';\r\nimport { stringifyQuery } from 'vue-router';\r\nimport * as Tone from 'tone';\r\n\r\n\r\nexport default defineComponent({\r\n    components:{\r\n    Header\r\n},\r\nsetup(){\r\n        const state = reactive({\r\n            songname:\"\",\r\n            song: \"[]\",\r\n            niveau:0,\r\n            effect: \"\"\r\n            \r\n        });\r\n        return{\r\n        state,\r\n        start:0,\r\n        end:0,\r\n        isPlaying:false,\r\n        player: new Tone.Player()\r\n        }\r\n    },\r\nmethods:{\r\n    cropSong(){\r\n    //     MP3Cutter.cut({\r\n    //     src: `../assets/test.mp3`,\r\n    //     target: this.state.songname,\r\n    //     start: this.start,\r\n    //     end: this.end \r\n    // });\r\n    console.log(\"done\");\r\n    },\r\n    async playFiltered(){        \r\n        this.player = new Tone.Player({\r\n            url: `http://music01bronze.westeurope.cloudapp.azure.com:9000/api/blob/${this.state.songname}`,\r\n            loop: false,\r\n            autostart: false,\r\n        })\r\n        if(!this.isPlaying)\r\n        {\r\n            var body = {\r\n                UserId: localStorage.getItem(\"userId\"),\r\n                Name: this.state.effect,\r\n                Level: +this.state.niveau\r\n            }\r\n            let response = await axios.post(`Blob/addfilter/${localStorage.getItem(\"songName\")}`,body)\r\n            console.log(response);\r\n            this.isPlaying =true;\r\n            let distortion;\r\n            //create a distortion effect\r\n            if(this.state.effect == \"Distortion\")\r\n            {\r\n            distortion = new Tone.Distortion(this.state.niveau).toDestination();\r\n            }\r\n            if(this.state.effect == \"AutoFilter\")\r\n            {\r\n            distortion = new Tone.AutoFilter(this.state.niveau).toDestination();\r\n            }\r\n            if(this.state.effect == \"AutoPanner\")\r\n            {\r\n            distortion = new Tone.AutoPanner(this.state.niveau).toDestination();\r\n            }\r\n            if(this.state.effect == \"reverb\")\r\n            {\r\n            distortion = new Tone.Reverb(this.state.niveau).toDestination();;\r\n            }\r\n            //connect a player to the distortion\r\n            console.log(this.player);\r\n            //@ts-ignore\r\n            this.player.connect(distortion);\r\n            Tone.loaded().then(() => {\r\n\t            this.player.start();\r\n            });\r\n        }\r\n        else{\r\n            console.log(\"test\")\r\n            window.location.reload();\r\n\r\n        }\r\n       \r\n    },\r\n},\r\nasync created(){\r\n    //@ts-ignore\r\n    this.state.songname = localStorage.getItem(\"songName\");\r\n    let response = await axios.get(`Blob/onesong/${localStorage.getItem(\"userId\")}/${localStorage.getItem(\"songName\")}`)\r\n    console.log(response.data.filters.level);\r\n    this.state.niveau = response.data.filters.level;\r\n    this.state.effect = response.data.filters.name;\r\n\r\n    //@ts-ignore\r\n    \r\n    },\r\n    mounted(){\r\n        //@ts-ignore\r\n        this.$refs.song.innerHTML = `<source src=\"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/blob/${this.state.songname}\" type=\"audio/mp3\">`\r\n    }\r\n\r\n});\r\n</script>\r\n\r\n","\r\nimport { defineComponent, reactive } from 'vue';\r\nimport axios from 'axios';\r\nimport Header from '../components/Header.vue';\r\nimport { stringifyQuery } from 'vue-router';\r\nimport * as Tone from 'tone';\r\n\r\n\r\nexport default defineComponent({\r\n    components:{\r\n    Header\r\n},\r\nsetup(){\r\n        const state = reactive({\r\n            songname:\"\",\r\n            song: \"[]\",\r\n            niveau:0,\r\n            effect: \"\"\r\n            \r\n        });\r\n        return{\r\n        state,\r\n        start:0,\r\n        end:0,\r\n        isPlaying:false,\r\n        player: new Tone.Player()\r\n        }\r\n    },\r\nmethods:{\r\n    cropSong(){\r\n    //     MP3Cutter.cut({\r\n    //     src: `../assets/test.mp3`,\r\n    //     target: this.state.songname,\r\n    //     start: this.start,\r\n    //     end: this.end \r\n    // });\r\n    console.log(\"done\");\r\n    },\r\n    async playFiltered(){        \r\n        this.player = new Tone.Player({\r\n            url: `http://music01bronze.westeurope.cloudapp.azure.com:9000/api/blob/${this.state.songname}`,\r\n            loop: false,\r\n            autostart: false,\r\n        })\r\n        if(!this.isPlaying)\r\n        {\r\n            var body = {\r\n                UserId: localStorage.getItem(\"userId\"),\r\n                Name: this.state.effect,\r\n                Level: +this.state.niveau\r\n            }\r\n            let response = await axios.post(`Blob/addfilter/${localStorage.getItem(\"songName\")}`,body)\r\n            console.log(response);\r\n            this.isPlaying =true;\r\n            let distortion;\r\n            //create a distortion effect\r\n            if(this.state.effect == \"Distortion\")\r\n            {\r\n            distortion = new Tone.Distortion(this.state.niveau).toDestination();\r\n            }\r\n            if(this.state.effect == \"AutoFilter\")\r\n            {\r\n            distortion = new Tone.AutoFilter(this.state.niveau).toDestination();\r\n            }\r\n            if(this.state.effect == \"AutoPanner\")\r\n            {\r\n            distortion = new Tone.AutoPanner(this.state.niveau).toDestination();\r\n            }\r\n            if(this.state.effect == \"reverb\")\r\n            {\r\n            distortion = new Tone.Reverb(this.state.niveau).toDestination();;\r\n            }\r\n            //connect a player to the distortion\r\n            console.log(this.player);\r\n            //@ts-ignore\r\n            this.player.connect(distortion);\r\n            Tone.loaded().then(() => {\r\n\t            this.player.start();\r\n            });\r\n        }\r\n        else{\r\n            console.log(\"test\")\r\n            window.location.reload();\r\n\r\n        }\r\n       \r\n    },\r\n},\r\nasync created(){\r\n    //@ts-ignore\r\n    this.state.songname = localStorage.getItem(\"songName\");\r\n    let response = await axios.get(`Blob/onesong/${localStorage.getItem(\"userId\")}/${localStorage.getItem(\"songName\")}`)\r\n    console.log(response.data.filters.level);\r\n    this.state.niveau = response.data.filters.level;\r\n    this.state.effect = response.data.filters.name;\r\n\r\n    //@ts-ignore\r\n    \r\n    },\r\n    mounted(){\r\n        //@ts-ignore\r\n        this.$refs.song.innerHTML = `<source src=\"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/blob/${this.state.songname}\" type=\"audio/mp3\">`\r\n    }\r\n\r\n});\r\n","import { render } from \"./EditSong.vue?vue&type=template&id=342eb638\"\nimport script from \"./EditSong.vue?vue&type=script&lang=ts\"\nexport * from \"./EditSong.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}