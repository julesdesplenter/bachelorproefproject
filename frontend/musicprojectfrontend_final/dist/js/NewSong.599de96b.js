(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["NewSong"],{"0342":function(e,t,a){"use strict";a("6425")},"2b42":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const o={class:"h-screen"},r={class:"flex justify-between mt-4"},s={class:" w-full text-left pl-8 text-2xl font-bold text-white"},i={class:"flex mr-8"},c=Object(n["g"])("div",null,"Play",-1),l=Object(n["g"])("div",null,"Length",-1),m=Object(n["g"])("div",null,"Save",-1),p={class:"flex"},u=Object(n["e"])('<div class="mt-8 "><div class="w-16 h-7 bg-white border-2 border-black">si</div><div class="w-16 h-7 bg-white border-2 border-black">la</div><div class="w-16 h-7 bg-white border-2 border-black">sol</div><div class="w-16 h-7 bg-white border-2 border-black">fa</div><div class="w-16 h-7 bg-white border-2 border-black">mi</div><div class="w-16 h-7 bg-white border-2 border-black">re</div><div class="w-16 h-7 bg-white border-2 border-black">do</div><div class="w-16 h-7 bg-white border-2 border-black">si</div><div class="w-16 h-7 bg-white border-2 border-black">la</div><div class="w-16 h-7 bg-white border-2 border-black">sol</div><div class="w-16 h-7 bg-white border-2 border-black">fa</div><div class="w-16 h-7 bg-white border-2 border-black">mi</div><div class="w-16 h-7 bg-white border-2 border-black">re</div><div class="w-16 h-7 bg-white border-2 border-black">do</div></div>',1),d={class:" ml-4 overflow-x-scroll"},b={ref:"length",class:"h-8 w-2 flex py-2 lengthRow opacity-0"},g={class:"absolute top-0 left-0 right-0 bottom-0 bg-black bg-opacity-70 flex justify-center items-center"},f={class:"bg-white w-1/3 h-1/3 opacity-100 flex justify-center items-center flex-col"},h=Object(n["g"])("p",{class:"text-3xl"},"saved!",-1),_=Object(n["g"])("p",{class:"mt-4"},"Good to know: your song saves automatically so you don't really need to use the save butten.",-1),v=Object(n["g"])("p",{class:"text-white"},"continue",-1);function w(e,t,a,w,j,O){const x=Object(n["u"])("Header"),S=Object(n["u"])("d");return Object(n["p"])(),Object(n["d"])("div",o,[Object(n["g"])(x,{title:"SM"}),Object(n["g"])("div",r,[Object(n["g"])("p",s,Object(n["w"])(e.state.data.name)+"("+Object(n["w"])(e.state.data.instruments[0].name)+")",1),Object(n["g"])("div",i,[Object(n["g"])("div",{onClick:t[1]||(t[1]=(...t)=>e.playSong&&e.playSong(...t)),class:"bg-blue mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70"},[c]),Object(n["g"])("div",{onClick:t[2]||(t[2]=(...t)=>e.toggleLength&&e.toggleLength(...t)),class:"bg-yellow mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70"},[l]),Object(n["g"])("div",{onClick:t[3]||(t[3]=(...t)=>e.saveMessage&&e.saveMessage(...t)),class:"bg-pinkLight mx-2 px-4 h-8 items-center flex cursor-pointer hover:opacity-70"},[m])])]),Object(n["g"])("div",p,[u,Object(n["g"])("div",d,[Object(n["g"])("div",b,null,512),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"}),Object(n["g"])(S,{class:"flex noterow"})])]),Object(n["D"])(Object(n["g"])("div",null,[Object(n["g"])("div",g,[Object(n["g"])("div",f,[h,_,Object(n["g"])("div",{onClick:t[4]||(t[4]=(...t)=>e.goneSave&&e.goneSave(...t)),class:"mt-4 bg-yellow flex justify-center items-center w-1/5 h-8 cursor-pointer hover:opacity-70"},[v])])])],512),[[n["A"],e.state.save]])])}var j=a("9ab4"),O=a("bc3a"),x=a.n(O),S=a("0418"),I=a("5e54"),y=setTimeout;function k(e,t){var a=t.useCachedSetTimeout?y:setTimeout;return new Promise((function(t){a(t,e)}))}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.useCachedSetTimeout,n=k(e,{useCachedSetTimeout:a});function o(e){return n.then((function(){return e}))}return o.then=function(){return n.then.apply(n,arguments)},o.catch=Promise.resolve().catch,o}var B=z,L={1:"C3",2:"D3",3:"E3",4:"F3",5:"G3",6:"A3",7:"B3",8:"C4",9:"D4",10:"E4",11:"F4",12:"G4",13:"A4",14:"B4"},D=!1,U=Object(n["h"])({components:{Header:S["a"]},methods:{playSong:function(){return Object(j["a"])(this,void 0,void 0,(function(){var e,t,a,n,o,r,s,i,c,l,m,p,u,d;return Object(j["b"])(this,(function(b){switch(b.label){case 0:return 0!=D?[3,6]:(D=!0,[4,x.a.get("SMSong/onesong/"+localStorage.getItem("userId")+"/"+localStorage.getItem("songName"))]);case 1:n=b.sent(),o=n.data.instruments[0].positions,"guitar"==this.state.data.instruments[0].name?(e=new I["f"]({urls:{c3:"c3.mp3",d3:"d3.mp3",e3:"e3.mp3",f3:"f3.mp3",g3:"g3.mp3",a3:"a3.mp3",b3:"b3.mp3",c4:"c4.mp3",d4:"d4.mp3",e4:"e4.mp3",f4:"f4.mp3",g4:"g4.mp3",a4:"a4.mp3",b4:"b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),t=new I["f"]({urls:{c3:"c3.mp3",d3:"d3.mp3",e3:"e3.mp3",f3:"f3.mp3",g3:"g3.mp3",a3:"a3.mp3",b3:"b3.mp3",c4:"c4.mp3",d4:"d4.mp3",e4:"e4.mp3",f4:"f4.mp3",g4:"g4.mp3",a4:"a4.mp3",b4:"b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),a=new I["f"]({urls:{c3:"c3.mp3",d3:"d3.mp3",e3:"e3.mp3",f3:"f3.mp3",g3:"g3.mp3",a3:"a3.mp3",b3:"b3.mp3",c4:"c4.mp3",d4:"d4.mp3",e4:"e4.mp3",f4:"f4.mp3",g4:"g4.mp3",a4:"a4.mp3",b4:"b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),console.log(this.state.data.instruments[0].name)):"drum"==this.state.data.instruments[0].name?(e=new I["f"]({urls:{c3:"drum_c3.mp3",d3:"drum_d3.mp3",e3:"drum_e3.mp3",f3:"drum_f3.mp3",g3:"drum_g3.mp3",a3:"drum_a3.mp3",b3:"drum_b3.mp3",c4:"drum_c4.mp3",d4:"drum_d4.mp3",e4:"drum_e4.mp3",f4:"drum_f4.mp3",g4:"drum_g4.mp3",a4:"drum_a4.mp3",b4:"drum_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),t=new I["f"]({urls:{c3:"drum_c3.mp3",d3:"drum_d3.mp3",e3:"drum_e3.mp3",f3:"drum_f3.mp3",g3:"drum_g3.mp3",a3:"drum_a3.mp3",b3:"drum_b3.mp3",c4:"drum_c4.mp3",d4:"drum_d4.mp3",e4:"drum_e4.mp3",f4:"drum_f4.mp3",g4:"drum_g4.mp3",a4:"drum_a4.mp3",b4:"drum_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),a=new I["f"]({urls:{c3:"drum_c3.mp3",d3:"drum_d3.mp3",e3:"drum_e3.mp3",f3:"drum_f3.mp3",g3:"drum_g3.mp3",a3:"drum_a3.mp3",b3:"drum_b3.mp3",c4:"drum_c4.mp3",d4:"drum_d4.mp3",e4:"drum_e4.mp3",f4:"drum_f4.mp3",g4:"drum_g4.mp3",a4:"drum_a4.mp3",b4:"drum_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination()):"violin"==this.state.data.instruments[0].name?(e=new I["f"]({urls:{c3:"violin_c3.mp3",d3:"violin_d3.mp3",e3:"violin_e3.mp3",f3:"violin_f3.mp3",g3:"violin_g3.mp3",a3:"violin_a3.mp3",b3:"violin_b3.mp3",c4:"violin_c4.mp3",d4:"violin_d4.mp3",e4:"violin_e4.mp3",f4:"violin_f4.mp3",g4:"violin_g4.mp3",a4:"violin_a4.mp3",b4:"violin_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),t=new I["f"]({urls:{c3:"violin_c3.mp3",d3:"violin_d3.mp3",e3:"violin_e3.mp3",f3:"violin_f3.mp3",g3:"violin_g3.mp3",a3:"violin_a3.mp3",b3:"violin_b3.mp3",c4:"violin_c4.mp3",d4:"violin_d4.mp3",e4:"violin_e4.mp3",f4:"violin_f4.mp3",g4:"violin_g4.mp3",a4:"violin_a4.mp3",b4:"violin_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),a=new I["f"]({urls:{c3:"violin_c3.mp3",d3:"violin_d3.mp3",e3:"violin_e3.mp3",f3:"violin_f3.mp3",g3:"violin_g3.mp3",a3:"violin_a3.mp3",b3:"violin_b3.mp3",c4:"violin_c4.mp3",d4:"violin_d4.mp3",e4:"violin_e4.mp3",f4:"violin_f4.mp3",g4:"violin_g4.mp3",a4:"violin_a4.mp3",b4:"violin_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination()):"piano"==this.state.data.instruments[0].name?(e=new I["f"]({urls:{c3:"piano_c3.mp3",d3:"piano_d3.mp3",e3:"piano_e3.mp3",f3:"piano_f3.mp3",g3:"piano_g3.mp3",a3:"piano_a3.mp3",b3:"piano_b3.mp3",c4:"piano_c4.mp3",d4:"piano_d4.mp3",e4:"piano_e4.mp3",f4:"piano_f4.mp3",g4:"piano_g4.mp3",a4:"piano_a4.mp3",b4:"piano_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),t=new I["f"]({urls:{c3:"piano_c3.mp3",d3:"piano_d3.mp3",e3:"piano_e3.mp3",f3:"piano_f3.mp3",g3:"piano_g3.mp3",a3:"piano_a3.mp3",b3:"piano_b3.mp3",c4:"piano_c4.mp3",d4:"piano_d4.mp3",e4:"piano_e4.mp3",f4:"piano_f4.mp3",g4:"piano_g4.mp3",a4:"piano_a4.mp3",b4:"piano_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),a=new I["f"]({urls:{c3:"piano_c3.mp3",d3:"piano_d3.mp3",e3:"piano_e3.mp3",f3:"piano_f3.mp3",g3:"piano_g3.mp3",a3:"piano_a3.mp3",b3:"piano_b3.mp3",c4:"piano_c4.mp3",d4:"piano_d4.mp3",e4:"piano_e4.mp3",f4:"piano_f4.mp3",g4:"piano_g4.mp3",a4:"piano_a4.mp3",b4:"piano_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination()):"trumpet"==this.state.data.instruments[0].name?(e=new I["f"]({urls:{c3:"trumpet_c3.mp3",d3:"trumpet_d3.mp3",e3:"trumpet_e3.mp3",f3:"trumpet_f3.mp3",g3:"trumpet_g3.mp3",a3:"trumpet_a3.mp3",b3:"trumpet_b3.mp3",c4:"trumpet_c4.mp3",d4:"trumpet_d4.mp3",e4:"trumpet_e4.mp3",f4:"trumpet_f4.mp3",g4:"trumpet_g4.mp3",a4:"trumpet_a4.mp3",b4:"trumpet_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),t=new I["f"]({urls:{c3:"trumpet_c3.mp3",d3:"trumpet_d3.mp3",e3:"trumpet_e3.mp3",f3:"trumpet_f3.mp3",g3:"trumpet_g3.mp3",a3:"trumpet_a3.mp3",b3:"trumpet_b3.mp3",c4:"trumpet_c4.mp3",d4:"trumpet_d4.mp3",e4:"trumpet_e4.mp3",f4:"trumpet_f4.mp3",g4:"trumpet_g4.mp3",a4:"trumpet_a4.mp3",b4:"trumpet_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination(),a=new I["f"]({urls:{c3:"trumpet_c3.mp3",d3:"trumpet_d3.mp3",e3:"trumpet_e3.mp3",f3:"trumpet_f3.mp3",g3:"trumpet_g3.mp3",a3:"trumpet_a3.mp3",b3:"trumpet_b3.mp3",c4:"trumpet_c4.mp3",d4:"trumpet_d4.mp3",e4:"trumpet_e4.mp3",f4:"trumpet_f4.mp3",g4:"trumpet_g4.mp3",a4:"trumpet_a4.mp3",b4:"trumpet_b4.mp3"},release:1,baseUrl:"http://music01bronze.westeurope.cloudapp.azure.com:9000/api/Blob/"}).toDestination()):(e=(new I["g"]).toDestination(),t=(new I["g"]).toDestination(),a=(new I["g"]).toDestination()),r=function(n){var o,r,s,i;return Object(j["b"])(this,(function(c){switch(c.label){case 0:for(o=[],r=0,s=n.tones;r<s.length;r++){if(i=s[r],null==i.pitch)break;o.push(i.pitch)}return void 0==o[0]?[2,"break"]:[4,I["h"]().then((function(){e.triggerAttackRelease(o[0],.5),document.getElementById(o[0]+"/"+n.place).classList.add("bg-active")}))];case 1:return c.sent(),void 0!=o[1]&&I["h"]().then((function(){t.triggerAttackRelease(o[1],"8n"),document.getElementById(o[1]+"/"+n.place).classList.add("bg-active")})),void 0!=o[2]&&I["h"]().then((function(){a.triggerAttackRelease(o[2],"8n"),document.getElementById(o[2]+"/"+n.place).classList.add("bg-active")})),[4,B(n.length)];case 2:return c.sent(),console.log("done"),[2]}}))},s=0,i=o,b.label=2;case 2:return s<i.length?(c=i[s],[5,r(c)]):[3,5];case 3:if(l=b.sent(),"break"===l)return[3,5];b.label=4;case 4:return s++,[3,2];case 5:for(D=!1,m=document.querySelectorAll(".bg-active"),p=0,u=m;p<u.length;p++)d=u[p],d.classList.remove("bg-active");b.label=6;case 6:return[2]}}))}))},toggleLength:function(){this.state.length?(this.state.length=!1,this.$refs.length.classList.add("opacity-0")):(this.state.length=!0,this.$refs.length.classList.remove("opacity-0"))},saveMessage:function(){this.state.save=!0},goneSave:function(){this.state.save=!1}},setup:function(){var e=Object(n["r"])({data:[],length:!1,save:!1});return{state:e}},created:function(){return Object(j["a"])(this,void 0,void 0,(function(){var e;return Object(j["b"])(this,(function(t){switch(t.label){case 0:return[4,x.a.get("SMSong/onesong/"+localStorage.getItem("userId")+"/"+localStorage.getItem("songName"))];case 1:return e=t.sent(),this.state.data=e.data,localStorage.setItem("instrumentId",e.data.instruments[0].instrumentId),[2]}}))}))},mounted:function(){return Object(j["a"])(this,void 0,void 0,(function(){var e,t,a,n,o,r,s,i,c,l,m,p,u,d,b,g,f,h;return Object(j["b"])(this,(function(_){switch(_.label){case 0:e=document.querySelectorAll(".noterow"),o=0,_.label=1;case 1:if(!(o<14))return[3,6];i=1,_.label=2;case 2:return i<=this.state.data.length?(e[o].innerHTML+='<div class="h-7 w-8 flex justify-center items-center"><input id="'+L[14-o]+"/"+i+'" @change="() =>  updateTone(\'c1\',1)" class="note" type="checkbox">\n                    </div>',t={length:500,Place:i,UserId:localStorage.getItem("userId")},[4,x.a.post("SMSong/AddPosition/"+localStorage.getItem("songName")+"/"+localStorage.getItem("instrumentId"),t)]):[3,5];case 3:_.sent(),_.label=4;case 4:return i++,[3,2];case 5:return o++,[3,1];case 6:for(a=function(e){for(var t=function(t){document.getElementById(L[14-e]+"/"+t).addEventListener("change",(function(){return Object(j["a"])(this,void 0,void 0,(function(){var a,n;return Object(j["b"])(this,(function(o){switch(o.label){case 0:return this.checked?(a={UserId:localStorage.getItem("userId"),Pitch:L[14-e]},[4,x.a.post("SMSong/AddTone/"+localStorage.getItem("songName")+"/"+localStorage.getItem("instrumentId")+"/"+t,a)]):[3,2];case 1:return n=o.sent(),console.log(n),[3,4];case 2:return a={UserId:localStorage.getItem("userId"),Pitch:L[14-e]},[4,x.a.post("SMSong/RemoveTone/"+localStorage.getItem("songName")+"/"+localStorage.getItem("instrumentId")+"/"+t,a)];case 3:n=o.sent(),console.log(n),o.label=4;case 4:return[2]}}))}))}))},a=1;a<=n.state.data.length;a++)t(a)},n=this,o=0;o<14;o++)a(o);for(r=document.querySelector(".lengthRow"),console.log("lengthRow"),i=1;i<=this.state.data.length;i++)r.innerHTML+=' <select class="w-8 " name="length" id="L/'+i+'">\n                <option value="250">s</option>\n                <option value="500" selected>m</option>\n                <option value="1000">l</option>\n            </select>';for(s=function(e){document.getElementById("L/"+e).addEventListener("change",(function(){return Object(j["a"])(this,void 0,void 0,(function(){var t,a;return Object(j["b"])(this,(function(n){switch(n.label){case 0:return console.log(this.value),t={UserId:localStorage.getItem("userId"),Length:+this.value,Place:+e},[4,x.a.post("SMSong/ChangePosition/"+localStorage.getItem("songName")+"/"+localStorage.getItem("instrumentId"),t)];case 1:return a=n.sent(),console.log(a),[2]}}))}))}))},i=1;i<=this.state.data.length;i++)s(i);return[4,x.a.get("SMSong/onesong/"+localStorage.getItem("userId")+"/"+localStorage.getItem("songName"))];case 7:for(c=_.sent(),l=c.data.instruments[0].positions,m=0,p=l;m<p.length;m++)for(u=p[m],d="L/"+u.place,250==+u.length&&(document.getElementById(d).selectedIndex=0),500==+u.length&&(document.getElementById(d).selectedIndex=1),1e3==+u.length&&(document.getElementById(d).selectedIndex=2),b=0,g=u.tones;b<g.length;b++)f=g[b],h=f.pitch+"/"+u.place,document.getElementById(h).checked=!0;return[2]}}))}))}});a("4d6f");U.render=w;t["default"]=U},"4d6f":function(e,t,a){"use strict";a("8320")},"52c8":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const o={class:"h-screen"},r={class:"h-5/6 w-full flex flex-collumn justify-center items-center"},s={class:"w-2/5 bg-white h-2/3"},i={class:"p-8 w-5/6 items-start justify-center flex flex-col h-full"},c=Object(n["g"])("h1",{class:"text-5xl h-16"},"Make song",-1),l=Object(n["g"])("label",{for:"Name",class:"w-full mt-4"},"Name",-1),m=Object(n["g"])("label",{for:"Length",min:"1",max:"45",class:"w-full mt-4"},"Length",-1),p=Object(n["g"])("button",{class:"mt-4 border-2 border-yellow bg-yellow text-white rounded-xl"},"make song",-1),u=Object(n["g"])("div",{class:"w-1/5 bg-picture  h-2/3"},null,-1);function d(e,t,a,d,b,g){const f=Object(n["u"])("Header");return Object(n["p"])(),Object(n["d"])("div",o,[Object(n["g"])(f,{title:"SM"}),Object(n["g"])("div",r,[Object(n["g"])("div",s,[Object(n["g"])("div",i,[c,Object(n["g"])("form",{class:"flex flex-col text-left",onSubmit:t[3]||(t[3]=Object(n["E"])((...t)=>e.handleSubmit&&e.handleSubmit(...t),["prevent"]))},[l,Object(n["D"])(Object(n["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.Name=t),type:"Username",class:"px-2 border border-gray-500",required:""},null,512),[[n["z"],e.Name]]),m,Object(n["D"])(Object(n["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.Length=t),type:"number",class:"px-2 border border-gray-500",required:""},null,512),[[n["z"],e.Length]]),p],32)])]),u])])}var b=a("9ab4"),g=a("bc3a"),f=a.n(g),h=a("0418"),_=Object(n["h"])({components:{Header:h["a"]},data:function(){return{Name:"",Length:""}},methods:{handleSubmit:function(){return Object(b["a"])(this,void 0,void 0,(function(){var e,t;return Object(b["b"])(this,(function(a){switch(a.label){case 0:return e={UserId:localStorage.getItem("userId"),Name:this.Name,Length:+this.Length},[4,f.a.post("SMSong",e)];case 1:return t=a.sent(),console.log(t),localStorage.setItem("songName",this.Name),this.$router.push("NewInstrument"),[2]}}))}))}}});a("0342");_.render=d;t["default"]=_},6425:function(e,t,a){},8320:function(e,t,a){}}]);
//# sourceMappingURL=NewSong.599de96b.js.map